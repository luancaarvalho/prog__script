export class StateService {
    constructor() {
        this.filterKey = 'angularPlayground.filter';
        this.filter = sessionStorage.getItem(this.filterKey);
        sessionStorage.removeItem(this.filterKey);
        const beforeUnload = () => {
            sessionStorage.setItem(this.filterKey, emptyStringIfNull(this.filter));
            return 'unload';
        };
        window.addEventListener('beforeunload', beforeUnload);
    }
    getFilter() {
        return this.filter;
    }
    setFilter(value) {
        this.filter = value;
    }
}
function emptyStringIfNull(value) {
    return value ? value : '';
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItcGxheWdyb3VuZC8iLCJzb3VyY2VzIjpbImxpYi9jb3JlL3NoYXJlZC9zdGF0ZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sT0FBTyxZQUFZO0lBSXJCO1FBRkEsY0FBUyxHQUFHLDBCQUEwQixDQUFDO1FBR25DLElBQUksQ0FBQyxNQUFNLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDckQsY0FBYyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFMUMsTUFBTSxZQUFZLEdBQUcsR0FBRyxFQUFFO1lBQ3RCLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN2RSxPQUFPLFFBQVEsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFDRixNQUFNLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRCxTQUFTO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxTQUFTLENBQUMsS0FBYTtRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0NBQ0o7QUFFRCxTQUFTLGlCQUFpQixDQUFDLEtBQWE7SUFDcEMsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQzlCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgU3RhdGVTZXJ2aWNlIHtcbiAgICBmaWx0ZXI6IHN0cmluZztcbiAgICBmaWx0ZXJLZXkgPSAnYW5ndWxhclBsYXlncm91bmQuZmlsdGVyJztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmZpbHRlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0odGhpcy5maWx0ZXJLZXkpO1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuZmlsdGVyS2V5KTtcblxuICAgICAgICBjb25zdCBiZWZvcmVVbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRoaXMuZmlsdGVyS2V5LCBlbXB0eVN0cmluZ0lmTnVsbCh0aGlzLmZpbHRlcikpO1xuICAgICAgICAgICAgcmV0dXJuICd1bmxvYWQnO1xuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYmVmb3JlVW5sb2FkKTtcbiAgICB9XG5cbiAgICBnZXRGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcjtcbiAgICB9XG5cbiAgICBzZXRGaWx0ZXIodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZpbHRlciA9IHZhbHVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZW1wdHlTdHJpbmdJZk51bGwodmFsdWU6IHN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZSA/IHZhbHVlIDogJyc7XG59XG4iXX0=