import { __decorate } from "tslib";
import { Pipe } from '@angular/core';
let HighlightSearchMatchPipe = class HighlightSearchMatchPipe {
    transform(value, indexMatches, offset = 0) {
        // Match null and undefined, but not 0 or ''
        if (value == null || indexMatches == null) {
            return value;
        }
        let transformedValue = '';
        let indexes = indexMatches.reduce((a, n) => n >= offset ? [...a, n - offset] : a, []);
        for (let i = 0; i < value.length; i++) {
            if (indexes.some(item => item === i)) {
                transformedValue += `<mark>${value[i]}</mark>`;
            }
            else {
                transformedValue += value[i];
            }
        }
        return transformedValue;
    }
};
HighlightSearchMatchPipe = __decorate([
    Pipe({ name: 'apHighlightSearchMatch', pure: false })
], HighlightSearchMatchPipe);
export { HighlightSearchMatchPipe };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlnaGxpZ2h0LXNlYXJjaC1tYXRjaC5waXBlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vYW5ndWxhci1wbGF5Z3JvdW5kLyIsInNvdXJjZXMiOlsibGliL2NvcmUvc2hhcmVkL2hpZ2hsaWdodC1zZWFyY2gtbWF0Y2gucGlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLElBQUksRUFBaUIsTUFBTSxlQUFlLENBQUM7QUFHcEQsSUFBYSx3QkFBd0IsR0FBckMsTUFBYSx3QkFBd0I7SUFDakMsU0FBUyxDQUFDLEtBQWEsRUFBRSxZQUFzQixFQUFFLE1BQU0sR0FBRyxDQUFDO1FBQ3ZELDRDQUE0QztRQUM1QyxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksWUFBWSxJQUFJLElBQUksRUFBRTtZQUN2QyxPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELElBQUksZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzFCLElBQUksT0FBTyxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRXRGLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ25DLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRTtnQkFDbEMsZ0JBQWdCLElBQUksU0FBUyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQzthQUNsRDtpQkFBTTtnQkFDSCxnQkFBZ0IsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEM7U0FDSjtRQUVELE9BQU8sZ0JBQWdCLENBQUM7SUFDNUIsQ0FBQztDQUNKLENBQUE7QUFwQlksd0JBQXdCO0lBRHBDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSx3QkFBd0IsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUM7R0FDekMsd0JBQXdCLENBb0JwQztTQXBCWSx3QkFBd0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBQaXBlKHsgbmFtZTogJ2FwSGlnaGxpZ2h0U2VhcmNoTWF0Y2gnLCBwdXJlOiBmYWxzZSB9KVxuZXhwb3J0IGNsYXNzIEhpZ2hsaWdodFNlYXJjaE1hdGNoUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuICAgIHRyYW5zZm9ybSh2YWx1ZTogc3RyaW5nLCBpbmRleE1hdGNoZXM6IG51bWJlcltdLCBvZmZzZXQgPSAwKTogYW55IHtcbiAgICAgICAgLy8gTWF0Y2ggbnVsbCBhbmQgdW5kZWZpbmVkLCBidXQgbm90IDAgb3IgJydcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgaW5kZXhNYXRjaGVzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0cmFuc2Zvcm1lZFZhbHVlID0gJyc7XG4gICAgICAgIGxldCBpbmRleGVzID0gaW5kZXhNYXRjaGVzLnJlZHVjZSgoYSwgbikgPT4gbiA+PSBvZmZzZXQgPyBbLi4uYSwgbiAtIG9mZnNldF0gOiBhLCBbXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGluZGV4ZXMuc29tZShpdGVtID0+IGl0ZW0gPT09IGkpKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZWRWYWx1ZSArPSBgPG1hcms+JHt2YWx1ZVtpXX08L21hcms+YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZWRWYWx1ZSArPSB2YWx1ZVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZFZhbHVlO1xuICAgIH1cbn1cbiJdfQ==