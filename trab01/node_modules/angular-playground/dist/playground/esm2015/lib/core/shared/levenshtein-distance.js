// https://github.com/gustf/js-levenshtein
export class LevenshteinDistance {
    getDistance(a, b) {
        if (a === b) {
            return 0;
        }
        if (a.length > b.length) {
            let tmp = a;
            a = b;
            b = tmp;
        }
        let la = a.length;
        let lb = b.length;
        while (la > 0 && (a.charCodeAt(la - 1) === b.charCodeAt(lb - 1))) {
            la--;
            lb--;
        }
        let offset = 0;
        while (offset < la && (a.charCodeAt(offset) === b.charCodeAt(offset))) {
            offset++;
        }
        la -= offset;
        lb -= offset;
        if (la === 0 || lb === 1) {
            return lb;
        }
        let x;
        let y;
        let d0;
        let d1;
        let d2;
        let d3;
        let dd;
        let dy;
        let ay;
        let bx0;
        let bx1;
        let bx2;
        let bx3;
        // tslint:disable-next-line:no-bitwise
        let vector = new Array(la << 1);
        for (y = 0; y < la;) {
            vector[la + y] = a.charCodeAt(offset + y);
            vector[y] = ++y;
        }
        for (x = 0; (x + 3) < lb;) {
            bx0 = b.charCodeAt(offset + (d0 = x));
            bx1 = b.charCodeAt(offset + (d1 = x + 1));
            bx2 = b.charCodeAt(offset + (d2 = x + 2));
            bx3 = b.charCodeAt(offset + (d3 = x + 3));
            dd = (x += 4);
            for (y = 0; y < la;) {
                ay = vector[la + y];
                dy = vector[y];
                d0 = this.minimum(dy, d0, d1, bx0, ay);
                d1 = this.minimum(d0, d1, d2, bx1, ay);
                d2 = this.minimum(d1, d2, d3, bx2, ay);
                dd = this.minimum(d2, d3, dd, bx3, ay);
                vector[y++] = dd;
                d3 = d2;
                d2 = d1;
                d1 = d0;
                d0 = dy;
            }
        }
        for (; x < lb;) {
            bx0 = b.charCodeAt(offset + (d0 = x));
            dd = ++x;
            for (y = 0; y < la; y++) {
                dy = vector[y];
                vector[y] = dd = dy < d0 || dd < d0
                    ? dy > dd ? dd + 1 : dy + 1
                    : bx0 === vector[la + y]
                        ? d0
                        : d0 + 1;
                d0 = dy;
            }
        }
        return dd;
    }
    minimum(d0, d1, d2, bx, ay) {
        return d0 < d1 || d2 < d1
            ? d0 > d2
                ? d2 + 1
                : d0 + 1
            : bx === ay
                ? d1
                : d1 + 1;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGV2ZW5zaHRlaW4tZGlzdGFuY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLXBsYXlncm91bmQvIiwic291cmNlcyI6WyJsaWIvY29yZS9zaGFyZWQvbGV2ZW5zaHRlaW4tZGlzdGFuY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMENBQTBDO0FBQzFDLE1BQU0sT0FBTyxtQkFBbUI7SUFDNUIsV0FBVyxDQUFDLENBQVMsRUFBRSxDQUFTO1FBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNULE9BQU8sQ0FBQyxDQUFDO1NBQ1o7UUFFRCxJQUFJLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRTtZQUNyQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDWixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ04sQ0FBQyxHQUFHLEdBQUcsQ0FBQztTQUNYO1FBRUQsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNsQixJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBRWxCLE9BQU8sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDOUQsRUFBRSxFQUFFLENBQUM7WUFDTCxFQUFFLEVBQUUsQ0FBQztTQUNSO1FBRUQsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRWYsT0FBTyxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUU7WUFDbkUsTUFBTSxFQUFFLENBQUM7U0FDWjtRQUVELEVBQUUsSUFBSSxNQUFNLENBQUM7UUFDYixFQUFFLElBQUksTUFBTSxDQUFDO1FBRWIs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ZXhwb3J0IGNsYXNzIExldmVuc2h0ZWluRGlzdGFuY2Uge1xuICAgIGdldERpc3RhbmNlKGE6IHN0cmluZywgYjogc3RyaW5nKSB7XG4gICAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgdG1wID0gYTtcbiAgICAgICAgICAgIGEgPSBiO1xuICAgICAgICAgICAgYiA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYSA9IGEubGVuZ3RoO1xuICAgICAgICBsZXQgbGIgPSBiLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGEgPiAwICYmIChhLmNoYXJDb2RlQXQobGEgLSAxKSA9PT0gYi5jaGFyQ29kZUF0KGxiIC0gMSkpKSB7XG4gICAgICAgICAgICBsYS0tO1xuICAgICAgICAgICAgbGItLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgICAgIHdoaWxlIChvZmZzZXQgPCBsYSAmJiAoYS5jaGFyQ29kZUF0KG9mZnNldCkgPT09IGIuY2hhckNvZGVBdChvZmZzZXQpKSkge1xuICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIH1cblxuICAgICAgICBsYSAtPSBvZmZzZXQ7XG4gICAgICAgIGxiIC09IG9mZnNldDtcblxuICAgICAgICBpZiAobGEgPT09IDAgfHwgbGIgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBsYjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB4O1xuICAgICAgICBsZXQgeTtcbiAgICAgICAgbGV0IGQwO1xuICAgICAgICBsZXQgZDE7XG4gICAgICAgIGxldCBkMjtcbiAgICAgICAgbGV0IGQzO1xuICAgICAgICBsZXQgZGQ7XG4gICAgICAgIGxldCBkeTtcbiAgICAgICAgbGV0IGF5O1xuICAgICAgICBsZXQgYngwO1xuICAgICAgICBsZXQgYngxO1xuICAgICAgICBsZXQgYngyO1xuICAgICAgICBsZXQgYngzO1xuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1iaXR3aXNlXG4gICAgICAgIGxldCB2ZWN0b3IgPSBuZXcgQXJyYXkobGEgPDwgMSk7XG5cbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IGxhOykge1xuICAgICAgICAgICAgdmVjdG9yW2xhICsgeV0gPSBhLmNoYXJDb2RlQXQob2Zmc2V0ICsgeSk7XG4gICAgICAgICAgICB2ZWN0b3JbeV0gPSArK3k7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHggPSAwOyAoeCArIDMpIDwgbGI7KSB7XG4gICAgICAgICAgICBieDAgPSBiLmNoYXJDb2RlQXQob2Zmc2V0ICsgKGQwID0geCkpO1xuICAgICAgICAgICAgYngxID0gYi5jaGFyQ29kZUF0KG9mZnNldCArIChkMSA9IHggKyAxKSk7XG4gICAgICAgICAgICBieDIgPSBiLmNoYXJDb2RlQXQob2Zmc2V0ICsgKGQyID0geCArIDIpKTtcbiAgICAgICAgICAgIGJ4MyA9IGIuY2hhckNvZGVBdChvZmZzZXQgKyAoZDMgPSB4ICsgMykpO1xuICAgICAgICAgICAgZGQgPSAoeCArPSA0KTtcbiAgICAgICAgICAgIGZvciAoeSA9IDA7IHkgPCBsYTspIHtcbiAgICAgICAgICAgICAgICBheSA9IHZlY3RvcltsYSArIHldO1xuICAgICAgICAgICAgICAgIGR5ID0gdmVjdG9yW3ldO1xuICAgICAgICAgICAgICAgIGQwID0gdGhpcy5taW5pbXVtKGR5LCBkMCwgZDEsIGJ4MCwgYXkpO1xuICAgICAgICAgICAgICAgIGQxID0gdGhpcy5taW5pbXVtKGQwLCBkMSwgZDIsIGJ4MSwgYXkpO1xuICAgICAgICAgICAgICAgIGQyID0gdGhpcy5taW5pbXVtKGQxLCBkMiwgZDMsIGJ4MiwgYXkpO1xuICAgICAgICAgICAgICAgIGRkID0gdGhpcy5taW5pbXVtKGQyLCBkMywgZGQsIGJ4MywgYXkpO1xuICAgICAgICAgICAgICAgIHZlY3Rvclt5KytdID0gZGQ7XG4gICAgICAgICAgICAgICAgZDMgPSBkMjtcbiAgICAgICAgICAgICAgICBkMiA9IGQxO1xuICAgICAgICAgICAgICAgIGQxID0gZDA7XG4gICAgICAgICAgICAgICAgZDAgPSBkeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoOyB4IDwgbGI7KSB7XG4gICAgICAgICAgICBieDAgPSBiLmNoYXJDb2RlQXQob2Zmc2V0ICsgKGQwID0geCkpO1xuICAgICAgICAgICAgZGQgPSArK3g7XG4gICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgbGE7IHkrKykge1xuICAgICAgICAgICAgICAgIGR5ID0gdmVjdG9yW3ldO1xuICAgICAgICAgICAgICAgIHZlY3Rvclt5XSA9IGRkID0gZHkgPCBkMCB8fCBkZCA8IGQwXG4gICAgICAgICAgICAgICAgICAgID8gZHkgPiBkZCA/IGRkICsgMSA6IGR5ICsgMVxuICAgICAgICAgICAgICAgICAgICA6IGJ4MCA9PT0gdmVjdG9yW2xhICsgeV1cbiAgICAgICAgICAgICAgICAgICAgICAgID8gZDBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZDAgKyAxO1xuICAgICAgICAgICAgICAgIGQwID0gZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtaW5pbXVtKGQwOiBudW1iZXIsIGQxOiBudW1iZXIsIGQyOiBudW1iZXIsIGJ4OiBudW1iZXIsIGF5OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGQwIDwgZDEgfHwgZDIgPCBkMVxuICAgICAgICAgICAgPyBkMCA+IGQyXG4gICAgICAgICAgICAgICAgPyBkMiArIDFcbiAgICAgICAgICAgICAgICA6IGQwICsgMVxuICAgICAgICAgICAgOiBieCA9PT0gYXlcbiAgICAgICAgICAgICAgICA/IGQxXG4gICAgICAgICAgICAgICAgOiBkMSArIDE7XG4gICAgfVxufVxuIl19