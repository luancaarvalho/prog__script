// https://github.com/gustf/js-levenshtein
var LevenshteinDistance = /** @class */ (function () {
    function LevenshteinDistance() {
    }
    LevenshteinDistance.prototype.getDistance = function (a, b) {
        if (a === b) {
            return 0;
        }
        if (a.length > b.length) {
            var tmp = a;
            a = b;
            b = tmp;
        }
        var la = a.length;
        var lb = b.length;
        while (la > 0 && (a.charCodeAt(la - 1) === b.charCodeAt(lb - 1))) {
            la--;
            lb--;
        }
        var offset = 0;
        while (offset < la && (a.charCodeAt(offset) === b.charCodeAt(offset))) {
            offset++;
        }
        la -= offset;
        lb -= offset;
        if (la === 0 || lb === 1) {
            return lb;
        }
        var x;
        var y;
        var d0;
        var d1;
        var d2;
        var d3;
        var dd;
        var dy;
        var ay;
        var bx0;
        var bx1;
        var bx2;
        var bx3;
        // tslint:disable-next-line:no-bitwise
        var vector = new Array(la << 1);
        for (y = 0; y < la;) {
            vector[la + y] = a.charCodeAt(offset + y);
            vector[y] = ++y;
        }
        for (x = 0; (x + 3) < lb;) {
            bx0 = b.charCodeAt(offset + (d0 = x));
            bx1 = b.charCodeAt(offset + (d1 = x + 1));
            bx2 = b.charCodeAt(offset + (d2 = x + 2));
            bx3 = b.charCodeAt(offset + (d3 = x + 3));
            dd = (x += 4);
            for (y = 0; y < la;) {
                ay = vector[la + y];
                dy = vector[y];
                d0 = this.minimum(dy, d0, d1, bx0, ay);
                d1 = this.minimum(d0, d1, d2, bx1, ay);
                d2 = this.minimum(d1, d2, d3, bx2, ay);
                dd = this.minimum(d2, d3, dd, bx3, ay);
                vector[y++] = dd;
                d3 = d2;
                d2 = d1;
                d1 = d0;
                d0 = dy;
            }
        }
        for (; x < lb;) {
            bx0 = b.charCodeAt(offset + (d0 = x));
            dd = ++x;
            for (y = 0; y < la; y++) {
                dy = vector[y];
                vector[y] = dd = dy < d0 || dd < d0
                    ? dy > dd ? dd + 1 : dy + 1
                    : bx0 === vector[la + y]
                        ? d0
                        : d0 + 1;
                d0 = dy;
            }
        }
        return dd;
    };
    LevenshteinDistance.prototype.minimum = function (d0, d1, d2, bx, ay) {
        return d0 < d1 || d2 < d1
            ? d0 > d2
                ? d2 + 1
                : d0 + 1
            : bx === ay
                ? d1
                : d1 + 1;
    };
    return LevenshteinDistance;
}());
export { LevenshteinDistance };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGV2ZW5zaHRlaW4tZGlzdGFuY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLXBsYXlncm91bmQvIiwic291cmNlcyI6WyJsaWIvY29yZS9zaGFyZWQvbGV2ZW5zaHRlaW4tZGlzdGFuY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMENBQTBDO0FBQzFDO0lBQUE7SUFzR0EsQ0FBQztJQXJHRyx5Q0FBVyxHQUFYLFVBQVksQ0FBUyxFQUFFLENBQVM7UUFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ1QsT0FBTyxDQUFDLENBQUM7U0FDWjtRQUVELElBQUksQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFO1lBQ3JCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztZQUNaLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDTixDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ1g7UUFFRCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQ2xCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFFbEIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM5RCxFQUFFLEVBQUUsQ0FBQztZQUNMLEVBQUUsRUFBRSxDQUFDO1NBQ1I7UUFFRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFFZixPQUFPLE1BQU0sR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRTtZQUNuRSxNQUFNLEVBQUUsQ0FBQztTQUNaO1FBRUQsRUFBRSxJQUFJLE1BQU0sQ0FBQztRQUNiLEVBQUUsSUFBSSxNQUFNLENBQUM7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dHRwczovL2dpdGh1Yi5jb20vZ3VzdGYvanMtbGV2ZW5zaHRlaW5cbmV4cG9ydCBjbGFzcyBMZXZlbnNodGVpbkRpc3RhbmNlIHtcbiAgICBnZXREaXN0YW5jZShhOiBzdHJpbmcsIGI6IHN0cmluZykge1xuICAgICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHRtcCA9IGE7XG4gICAgICAgICAgICBhID0gYjtcbiAgICAgICAgICAgIGIgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGEgPSBhLmxlbmd0aDtcbiAgICAgICAgbGV0IGxiID0gYi5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxhID4gMCAmJiAoYS5jaGFyQ29kZUF0KGxhIC0gMSkgPT09IGIuY2hhckNvZGVBdChsYiAtIDEpKSkge1xuICAgICAgICAgICAgbGEtLTtcbiAgICAgICAgICAgIGxiLS07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcblxuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGEgJiYgKGEuY2hhckNvZGVBdChvZmZzZXQpID09PSBiLmNoYXJDb2RlQXQob2Zmc2V0KSkpIHtcbiAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgbGEgLT0gb2Zmc2V0O1xuICAgICAgICBsYiAtPSBvZmZzZXQ7XG5cbiAgICAgICAgaWYgKGxhID09PSAwIHx8IGxiID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbGI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgeDtcbiAgICAgICAgbGV0IHk7XG4gICAgICAgIGxldCBkMDtcbiAgICAgICAgbGV0IGQxO1xuICAgICAgICBsZXQgZDI7XG4gICAgICAgIGxldCBkMztcbiAgICAgICAgbGV0IGRkO1xuICAgICAgICBsZXQgZHk7XG4gICAgICAgIGxldCBheTtcbiAgICAgICAgbGV0IGJ4MDtcbiAgICAgICAgbGV0IGJ4MTtcbiAgICAgICAgbGV0IGJ4MjtcbiAgICAgICAgbGV0IGJ4MztcblxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYml0d2lzZVxuICAgICAgICBsZXQgdmVjdG9yID0gbmV3IEFycmF5KGxhIDw8IDEpO1xuXG4gICAgICAgIGZvciAoeSA9IDA7IHkgPCBsYTspIHtcbiAgICAgICAgICAgIHZlY3RvcltsYSArIHldID0gYS5jaGFyQ29kZUF0KG9mZnNldCArIHkpO1xuICAgICAgICAgICAgdmVjdG9yW3ldID0gKyt5O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh4ID0gMDsgKHggKyAzKSA8IGxiOykge1xuICAgICAgICAgICAgYngwID0gYi5jaGFyQ29kZUF0KG9mZnNldCArIChkMCA9IHgpKTtcbiAgICAgICAgICAgIGJ4MSA9IGIuY2hhckNvZGVBdChvZmZzZXQgKyAoZDEgPSB4ICsgMSkpO1xuICAgICAgICAgICAgYngyID0gYi5jaGFyQ29kZUF0KG9mZnNldCArIChkMiA9IHggKyAyKSk7XG4gICAgICAgICAgICBieDMgPSBiLmNoYXJDb2RlQXQob2Zmc2V0ICsgKGQzID0geCArIDMpKTtcbiAgICAgICAgICAgIGRkID0gKHggKz0gNCk7XG4gICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgbGE7KSB7XG4gICAgICAgICAgICAgICAgYXkgPSB2ZWN0b3JbbGEgKyB5XTtcbiAgICAgICAgICAgICAgICBkeSA9IHZlY3Rvclt5XTtcbiAgICAgICAgICAgICAgICBkMCA9IHRoaXMubWluaW11bShkeSwgZDAsIGQxLCBieDAsIGF5KTtcbiAgICAgICAgICAgICAgICBkMSA9IHRoaXMubWluaW11bShkMCwgZDEsIGQyLCBieDEsIGF5KTtcbiAgICAgICAgICAgICAgICBkMiA9IHRoaXMubWluaW11bShkMSwgZDIsIGQzLCBieDIsIGF5KTtcbiAgICAgICAgICAgICAgICBkZCA9IHRoaXMubWluaW11bShkMiwgZDMsIGRkLCBieDMsIGF5KTtcbiAgICAgICAgICAgICAgICB2ZWN0b3JbeSsrXSA9IGRkO1xuICAgICAgICAgICAgICAgIGQzID0gZDI7XG4gICAgICAgICAgICAgICAgZDIgPSBkMTtcbiAgICAgICAgICAgICAgICBkMSA9IGQwO1xuICAgICAgICAgICAgICAgIGQwID0gZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKDsgeCA8IGxiOykge1xuICAgICAgICAgICAgYngwID0gYi5jaGFyQ29kZUF0KG9mZnNldCArIChkMCA9IHgpKTtcbiAgICAgICAgICAgIGRkID0gKyt4O1xuICAgICAgICAgICAgZm9yICh5ID0gMDsgeSA8IGxhOyB5KyspIHtcbiAgICAgICAgICAgICAgICBkeSA9IHZlY3Rvclt5XTtcbiAgICAgICAgICAgICAgICB2ZWN0b3JbeV0gPSBkZCA9IGR5IDwgZDAgfHwgZGQgPCBkMFxuICAgICAgICAgICAgICAgICAgICA/IGR5ID4gZGQgPyBkZCArIDEgOiBkeSArIDFcbiAgICAgICAgICAgICAgICAgICAgOiBieDAgPT09IHZlY3RvcltsYSArIHldXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGQwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGQwICsgMTtcbiAgICAgICAgICAgICAgICBkMCA9IGR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRkO1xuICAgIH1cblxuICAgIHByaXZhdGUgbWluaW11bShkMDogbnVtYmVyLCBkMTogbnVtYmVyLCBkMjogbnVtYmVyLCBieDogbnVtYmVyLCBheTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBkMCA8IGQxIHx8IGQyIDwgZDFcbiAgICAgICAgICAgID8gZDAgPiBkMlxuICAgICAgICAgICAgICAgID8gZDIgKyAxXG4gICAgICAgICAgICAgICAgOiBkMCArIDFcbiAgICAgICAgICAgIDogYnggPT09IGF5XG4gICAgICAgICAgICAgICAgPyBkMVxuICAgICAgICAgICAgICAgIDogZDEgKyAxO1xuICAgIH1cbn1cbiJdfQ==