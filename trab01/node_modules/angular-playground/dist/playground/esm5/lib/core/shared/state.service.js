var StateService = /** @class */ (function () {
    function StateService() {
        var _this = this;
        this.filterKey = 'angularPlayground.filter';
        this.filter = sessionStorage.getItem(this.filterKey);
        sessionStorage.removeItem(this.filterKey);
        var beforeUnload = function () {
            sessionStorage.setItem(_this.filterKey, emptyStringIfNull(_this.filter));
            return 'unload';
        };
        window.addEventListener('beforeunload', beforeUnload);
    }
    StateService.prototype.getFilter = function () {
        return this.filter;
    };
    StateService.prototype.setFilter = function (value) {
        this.filter = value;
    };
    return StateService;
}());
export { StateService };
function emptyStringIfNull(value) {
    return value ? value : '';
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItcGxheWdyb3VuZC8iLCJzb3VyY2VzIjpbImxpYi9jb3JlL3NoYXJlZC9zdGF0ZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBSUk7UUFBQSxpQkFTQztRQVhELGNBQVMsR0FBRywwQkFBMEIsQ0FBQztRQUduQyxJQUFJLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JELGNBQWMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRTFDLElBQU0sWUFBWSxHQUFHO1lBQ2pCLGNBQWMsQ0FBQyxPQUFPLENBQUMsS0FBSSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN2RSxPQUFPLFFBQVEsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFDRixNQUFNLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRCxnQ0FBUyxHQUFUO1FBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxnQ0FBUyxHQUFULFVBQVUsS0FBYTtRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQUFDLEFBdEJELElBc0JDOztBQUVELFNBQVMsaUJBQWlCLENBQUMsS0FBYTtJQUNwQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDOUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBTdGF0ZVNlcnZpY2Uge1xuICAgIGZpbHRlcjogc3RyaW5nO1xuICAgIGZpbHRlcktleSA9ICdhbmd1bGFyUGxheWdyb3VuZC5maWx0ZXInO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmZpbHRlcktleSk7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5maWx0ZXJLZXkpO1xuXG4gICAgICAgIGNvbnN0IGJlZm9yZVVubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0odGhpcy5maWx0ZXJLZXksIGVtcHR5U3RyaW5nSWZOdWxsKHRoaXMuZmlsdGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gJ3VubG9hZCc7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWQpO1xuICAgIH1cblxuICAgIGdldEZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyO1xuICAgIH1cblxuICAgIHNldEZpbHRlcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gdmFsdWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlbXB0eVN0cmluZ0lmTnVsbCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gdmFsdWUgOiAnJztcbn1cbiJdfQ==